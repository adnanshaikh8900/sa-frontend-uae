<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:tp="http://java.sun.com/jsf/composite/common">

<h:head>
	<f:facet name="first">
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="viewport"
			content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
            <link rel="shortcut icon" type="image/png" href="/resources/images/simplevat-favicon.png"/>
	</f:facet>
	<title>#{messages.application_name}</title>
	<h:outputScript name="js/ripple.js" library="ultima-layout" />
</h:head>

<h:body styleClass="exception-body error-page">
	<ui:param name="headerText"
		value="Exception while processing the request!" />
	<ui:param name="contactMsg"
		value="Please contact system administrator!" />





	<p:outputPanel
		rendered="#{(pfExceptionHandler.type=='com.simplevat.web.exceptions.WebLayerException'  
		or pfExceptionHandler.type=='com.simplevat.service.exceptions.ServiceException')
		 and pfExceptionHandler.exception.businessException==true}">
		<div class="exception-type">
			<p:graphicImage name="images/error.svg" library="ultima-layout" />
		</div>

		<div class="card exception-panel">
			<i class="material-icons">&#xE000;</i>
			<div>Error Code :
				#{pfExceptionHandler.exception.getErrorCode()}</div>
			<div>Error Description :
				#{pfExceptionHandler.exception.getErrorDescription()}</div>
			<div class="exception-detail">#{contactMsg}</div>
			<p:button outcome="/pages/secure/home" value="Homepage"
				styleClass="secondary" />
		</div>

	</p:outputPanel>

	<p:outputPanel
		rendered="#{(pfExceptionHandler.type=='com.simplevat.web.exceptions.WebLayerException'  
		or pfExceptionHandler.type=='com.simplevat.service.exceptions.ServiceException') 
		and pfExceptionHandler.exception.businessException==false}">
		<div class="exception-type">
			<p:graphicImage name="images/error.svg" library="ultima-layout" />
		</div>

		<div class="card exception-panel">
			<i class="material-icons">&#xE000;</i>
			<div class="exception-detail">#{contactMsg}</div>
			<p:button outcome="/pages/secure/home" value="Homepage"
				styleClass="secondary" />
		</div>
	</p:outputPanel>


	<p:outputPanel rendered="#{pfExceptionHandler.type !='com.simplevat.web.exceptions.WebLayerException'  
		and pfExceptionHandler.type !='com.simplevat.service.exceptions.ServiceException'}">
		<div class="exception-type">
			<p:graphicImage name="images/error.svg" library="ultima-layout" />
		</div>

		<div class="card exception-panel">
			<i class="material-icons">&#xE000;</i>
			<div class="exception-detail">#{contactMsg}</div>
			<p:button outcome="/pages/secure/home" value="Homepage"
				styleClass="secondary" />
		</div>
	</p:outputPanel>
	<h:outputStylesheet name="css/ripple.css" library="ultima-layout" />
	<h:outputStylesheet name="css/layout-#{guestPreferences.theme}.css"
		library="ultima-layout" />
</h:body>

</html>